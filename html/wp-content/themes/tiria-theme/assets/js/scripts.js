/*
*****************************************************
* TIRIA'S WORDPRESS THEME FRAMEWORK
* Created by Tiria - www.tiria.fr
* Based on Clifden by Webman - www.webmandesign.eu
* Copyright by WebMan - www.webmandesign.eu
*
* Theme scripts
*****************************************************
*/

var autoAccordionDuration="undefined"==typeof autoAccordionDuration?5e3:autoAccordionDuration;jQuery.fn.nospam=function(){return this.each(function(){var a=null,b=jQuery(this);a=jQuery(this).is("a[data-address]")?b.data("address").split("").reverse().join("").replace("[at]","@").replace(/\//g,"."):b.text().split("").reverse().join("").replace("[at]","@").replace(/\//g,"."),a&&(b.is("a[data-address]")?(b.attr("href","mailto:"+a),b.text(a)):b.text(a))})},jQuery(function(){function j(){if(h===!0){var a=jQuery("div.accordion-wrapper.auto > ul"),b=a.children().length,c=a.find("li.active"),d=c.index()+1,e=(d+1)%b;a.find("li").eq(e-1).find(".accordion-heading").trigger("click")}}function n(){""==l.val()?l.val(m):m==l.val()&&l.val("")}function t(){q.isotope({layoutMode:r}),jQuery(".wrap-filter a").click(function(){var a=jQuery(this),b=a.data("filter");return a.closest(".filterable-content").find(".filter-this").isotope({filter:b}),a.addClass("active").parent("li").siblings("li").find("a").removeClass("active"),!1}),jQuery(".filter-this .toggle-wrapper").click(function(){jQuery(".filter-this").isotope("layout")})}jQuery(".no-js").removeClass("no-js"),jQuery(".main a > img, .widget a > img, .gallery-slider a > img").hover(function(){jQuery(this).stop().animate({opacity:.8},250)},function(){jQuery(this).stop().animate({opacity:1},250)}),jQuery(".lie8 img[height]").removeAttr("height"),jQuery("html.lie8 .price-spec li:nth-child(even)").addClass("even"),jQuery('.top-of-page, a[href="#top"]').click(function(){return jQuery("html, body").animate({scrollTop:0},400),!1}),jQuery(".nav-main li, .top-bar li").hover(function(){jQuery(this).find("> ul").stop(!0,!0).fadeIn()},function(){jQuery(this).find("> ul").stop(!0,!0).fadeOut()});var a=jQuery("#video-slider.has-cover");if(a.find(".video-container").hide(),a.prev(".video-cover").click(function(){var b=jQuery(this),c=b.closest(".slider").height(b.height()),d=a.find(".video-container iframe").attr("src");b.fadeOut(400,function(){c.find(".video-slider .video-container").fadeIn(250,function(){c.animate({height:jQuery(this).find("iframe").height()},250,function(){jQuery(this).height("auto")})})}),d+=-1==d.indexOf("?")?"?autoplay=1":"&amp;autoplay=1",a.find(".video-container iframe").attr("src",d)}),jQuery().prettyPhoto){var b='a[href$=".bmp"],a[href$=".gif"],a[href$=".jpg"],a[href$=".jpeg"],a[href$=".png"],a[href$=".BMP"],a[href$=".GIF"],a[href$=".JPG"],a[href$=".JPEG"],a[href$=".PNG"]',c=jQuery(b+', .lightbox, a.modal, a[data-modal], a[rel^="prettyPhoto"]');1<c.length&&c.attr("rel","prettyPhoto[pp_gal]"),jQuery("a[data-rel]").each(function(){var a=jQuery(this);a.attr("rel",a.data("rel"))}),c.prettyPhoto({show_title:!1,theme:"pp_default",slideshow:6e3,deeplinking:!0,overlay_gallery:!1,social_tools:!1})}if(jQuery("a.email-nospam").nospam(),jQuery("div.tabs-wrapper").length){!function(){var a=jQuery("div.tabs-wrapper > ul");i=0,a.each(function(){var b="";d=jQuery(this),tabsCount=d.children("li").length,d.find(".tab-heading").each(function(){i++;var c=jQuery(this),e=(c.closest("li").attr("id","tab-item-"+i),c.html()),f=tabsCount===i?" last":"";c.addClass("hide"),b+=c.closest("div.tabs-wrapper").hasClass("fullwidth")?'<li class="column col-1'+tabsCount+f+' no-margin"><a href="#tab-item-'+i+' ">'+e+"</a></li>":'<li><a href="#tab-item-'+i+'">'+e+"</a></li>"}),d.before('<ul class="tabs clearfix">'+b+"</ul>")})}();var d=jQuery(".tabs "),e=jQuery(".tabs + ul");if(d.find("li:first-child").addClass("active"),e.children().hide(),e.find("li:first-child").show(),d.find("a").click(function(){var a=jQuery(this),b=a.attr("href").replace(/.*#(.*)/,"#$1");return a.parent().addClass("active").siblings("li").removeClass("active"),jQuery("li"+b).fadeIn().siblings("li").hide(),!1}),jQuery("div.tabs-wrapper.vertical.tour").length){jQuery('<div class="tour-nav"><span class="prev" data-index="-1"></span><span class="next" data-index="1"></span></div>').prependTo(".tabs-wrapper.tour ul.tabs + ul > li");var f=jQuery(".tabs-wrapper.tour ul.tabs li.active").next("li").html();jQuery(".tour-nav .next").html(f),jQuery(".tour-nav .next a").prepend('<i class="icon-hand-right"></i> '),jQuery(".tabs-wrapper.tour ul.tabs a").click(function(){var a=jQuery(this).closest(".tabs-wrapper"),b=a.find("ul.tabs li.active"),c=b.prev("li"),d=b.next("li");c.length?(a.find(".tour-nav .prev").html(c.html()).attr("data-index",c.index()),a.find(".tour-nav .prev a").append(' <i class="icon-hand-left"></i>')):a.find(".tour-nav .prev").html(""),d.length?(a.find(".tour-nav .next").html(d.html()).attr("data-index",d.index()),a.find(".tour-nav .next a").prepend('<i class="icon-hand-right"></i> ')):a.find(".tour-nav .next").html("")}),jQuery(".tour-nav span").click(function(){var a=jQuery(this),b=a.closest(".tabs-wrapper"),c=a.data("index"),d=b.find("ul.tabs li").eq(c).prev("li"),e=b.find("ul.tabs li").eq(c).next("li");return targetTab=a.find("a").attr("href"),b.find("ul.tabs li").eq(c).addClass("active").siblings("li").removeClass("active"),b.find("li"+targetTab).fadeIn().siblings("li").hide(),d.length?(b.find(".tour-nav .prev").html(d.html()).attr("data-index",d.index()),b.find(".tour-nav .prev a").append(' <i class="icon-hand-left"></i>')):b.find(".tour-nav .prev").html(""),e.length?(b.find(".tour-nav .next").html(e.html()).attr("data-index",e.index()),b.find(".tour-nav .next a").prepend('<i class="icon-hand-right"></i> ')):b.find(".tour-nav .next").html(""),!1})}}if(jQuery("div.accordion-wrapper").length){!function(){var a=jQuery("div.accordion-wrapper > ul > li");a.each(function(){jQuery(this).find(".accordion-heading").siblings().wrapAll('<div class="accordion-content" />')})}(),jQuery(".accordion-content").slideUp(),jQuery("div.accordion-wrapper > ul > li:first-child .accordion-content").slideDown().parent().addClass("active"),jQuery(".accordion-heading").click(function(){var a=jQuery(this);a.next(".accordion-content").slideDown().parent().addClass("active").siblings("li").removeClass("active"),a.closest(".accordion-wrapper").find("li:not(.active) > .accordion-content").slideUp()});var g=jQuery("div.accordion-wrapper.auto > ul"),h=!0;g.hover(function(){h=!1},function(){h=!0}),setInterval(j,autoAccordionDuration)}jQuery("div.toggle-wrapper").length&&(function(){var a=jQuery("div.toggle-wrapper");a.each(function(){jQuery(this).find(".toggle-heading").siblings().wrapAll('<div class="toggle-content" />')})}(),jQuery("div.toggle-wrapper").not(".active").find("div.toggle-content").slideUp(),jQuery(".toggle-heading").click(function(){var a=jQuery(this);a.hasClass("animation-fade")?a.next("div.toggle-content").toggle().css({opacity:0}).animate({opacity:1},800).parent().toggleClass("active"):a.next("div.toggle-content").slideToggle().parent().toggleClass("active")})),jQuery('iframe[src*="youtube.com"]').each(function(){var b=jQuery(this).attr("src");b+=-1==b.indexOf("?")?"?wmode=transparent":"&amp;wmode=transparent",jQuery(this).attr("src",b)}),jQuery(".breadcrumbs.animated-form .form-search").width(120),jQuery('.breadcrumbs.animated-form input[type="text"]').focus(function(){jQuery(this).closest(".form-search").width(200)}).blur(function(){jQuery(this).closest(".form-search").stop().animate({width:120},250)}).hover(function(){jQuery(this).closest(".form-search").stop().animate({width:200},250)},function(){var a=jQuery(this);a.is(":focus")||a.closest(".form-search").stop().animate({width:120},250)});var l=jQuery('.ie .form-search input[type="text"]'),m=l.attr("placeholder");if(n(),l.change(function(){n()}),l.focus(function(){n()}),jQuery().flexslider){var o=jQuery(".slideshow.flexslider"),p=o.data("time");jQuery("html").hasClass("ie")?o.flexslider({animation:"slide",easing:"swing",direction:"horizontal",slideshowSpeed:p,smoothHeight:!0,animationSpeed:400,pauseOnAction:!0,pauseOnHover:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,keyboard:!0,pausePlay:!1}):o.imagesLoaded(function(){o.flexslider({animation:"slide",easing:"swing",direction:"horizontal",slideshowSpeed:p,smoothHeight:!0,animationSpeed:400,pauseOnAction:!0,pauseOnHover:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,keyboard:!0,pausePlay:!1})})}if(jQuery().isotope){var q=jQuery(".filter-this"),r=q.data("layout-mode");if(q.hasClass("wrap-projects")){var s=q.find("article:first-child").outerWidth();q.width("101%").find("article").width(s)}jQuery("html").hasClass("ie")?t():q.imagesLoaded(function(){t()})}if(jQuery().quovolver&&(jQuery(".wrap-testimonials-shortcode[data-time]").length&&function(){var a=jQuery(".wrap-testimonials-shortcode[data-time]");a.each(function(){var b=jQuery(this),c=b.data("time")+400;b.find("blockquote").quovolver(400,c)})}(),jQuery(".wrap-status-shortcode[data-time]").length&&function(){var a=jQuery(".wrap-status-shortcode[data-time]");a.each(function(){var b=jQuery(this),c=b.data("time");c&&b.find(".status-post").quovolver(400,c+400)})}()),jQuery("#nav-main .menu").length&&(jQuery("<select />",{id:"nav-mobile"}).appendTo("#nav-main"),jQuery("<option />",{selected:"selected",value:"",text:wmLocalization.mobileMenu}).appendTo("#nav-mobile"),function(){var a=jQuery("#nav-main ul li"),b="";a.each(function(){var c=jQuery(this),d=c.find("> a"),e=c.data("depth"),f=d.attr("href"),g=d.find("> span").text(),h="";if(f&&g){for(var i=e-1;i>=0;i--)h+="- ";c.hasClass("alignright")?b+='<option value="'+f+'">'+h+g+"</option>":jQuery("<option />",{value:f,text:h+" "+g}).appendTo("#nav-mobile")}}),jQuery("#nav-mobile").append(b).change(function(){window.location=jQuery(this).val()})}()),jQuery().masonry){var u=jQuery(".gallery.masonry-container"),v=u.find("figure:first-child").outerWidth()-2;u.width("105%").find("figure").width(v),jQuery("html").hasClass("ie")?u.masonry({itemSelector:"figure"}):u.imagesLoaded(function(){u.masonry({itemSelector:"figure"})})}jQuery("div.call-to-action").length&&function(){var a=jQuery("div.call-to-action");a.css({paddingRight:0}),a.each(function(){var b=jQuery(this),c=b.find(".btn").outerWidth()+60,d=b.find(".call-to-action-title"),e=d.outerWidth()+30,f=0;b.find(".cta-text").css({paddingRight:c}),b.hasClass("has-title")&&(b.css({paddingLeft:e}),f=(d.outerHeight()-d.find("h2").outerHeight())/2,d.find("h2").css({marginTop:f+"px"}))})}()});